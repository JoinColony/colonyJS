/*
 * OneTxPayment Client Version 7 Addons autogenerated by
 * @colony/colony-js version v4.2.2-rc.4 from colonyNetwork tag 'imwss'
 *
 * Feel free to modify as needed!
 */

/* eslint-disable @typescript-eslint/no-explicit-any */

import { ClientType } from '../../../../constants';
import { OneTxPayment__factory as OneTxPaymentFactory } from '../../../../contracts/extensions/oneTxPayment/7/factories/OneTxPayment__factory';
import { OneTxPayment } from '../../../../contracts/extensions/oneTxPayment/7/OneTxPayment';
import { ExtendedIColony } from '../../../../clients/Colony/extensions/commonExtensions';

import * as currentVersionAddons from './OneTxPaymentClientAddons';
import * as version1Addons from '../1/OneTxPaymentClientAddons';
import * as version2Addons from '../2/OneTxPaymentClientAddons';
import * as version3Addons from '../3/OneTxPaymentClientAddons';
import * as version4Addons from '../4/OneTxPaymentClientAddons';
import * as version5Addons from '../5/OneTxPaymentClientAddons';
import * as version6Addons from '../6/OneTxPaymentClientAddons';

import * as currentVersionEncodedInterfaces from './OneTxPaymentClientEncodeInterfaces';
import * as version3EncodedInterfaces from '../3/OneTxPaymentClientEncodeInterfaces';
import * as version4EncodedInterfaces from '../4/OneTxPaymentClientEncodeInterfaces';
import * as version5EncodedInterfaces from '../5/OneTxPaymentClientEncodeInterfaces';
import * as version6EncodedInterfaces from '../6/OneTxPaymentClientEncodeInterfaces';

type OneTxPaymentEstimate = OneTxPayment['estimate'];
interface OneTxPaymentEstimateWithAddons extends OneTxPaymentEstimate {
  /*
   * @TODO These needs to be specifically determined once we can integrate
   * static code analysis into this lib
   */
  [key: string]: any;
}

export interface OneTxPaymentClient extends OneTxPayment {
  clientType: ClientType.OneTxPaymentClient;
  estimate: OneTxPaymentEstimateWithAddons;
  /*
   * @TODO These needs to be specifically determined once we can integrate
   * static code analysis into this lib
   */
  [key: string]: any;
}

const getOneTxPaymentClient = (
  address: string,
  colonyClient: ExtendedIColony,
): OneTxPaymentClient => {
  const oneTxPaymentClient = OneTxPaymentFactory.connect(
    address,
    colonyClient.signer || colonyClient.provider,
  ) as OneTxPaymentClient;
  oneTxPaymentClient.clientType = ClientType.OneTxPaymentClient;

  const addons = {
    ...version1Addons.getOneTxPaymentClientAddons(
      oneTxPaymentClient,
      colonyClient,
    ),
    ...version2Addons.getOneTxPaymentClientAddons(
      oneTxPaymentClient,
      colonyClient,
    ),
    ...version3Addons.getOneTxPaymentClientAddons(
      // @ts-ignore
      oneTxPaymentClient,
      colonyClient,
    ),
    ...version4Addons.getOneTxPaymentClientAddons(
      // @ts-ignore
      oneTxPaymentClient,
      colonyClient,
    ),
    ...version5Addons.getOneTxPaymentClientAddons(
      // @ts-ignore
      oneTxPaymentClient,
      colonyClient,
    ),
    ...version6Addons.getOneTxPaymentClientAddons(
      // @ts-ignore
      oneTxPaymentClient,
      colonyClient,
    ),
    ...currentVersionAddons.getOneTxPaymentClientAddons(
      oneTxPaymentClient,
      colonyClient,
    ),
  };
  const addonsEstimate = {
    ...version1Addons.getOneTxPaymentClientEstimateAddons(
      oneTxPaymentClient,
      colonyClient,
    ),
    ...version2Addons.getOneTxPaymentClientEstimateAddons(
      oneTxPaymentClient,
      colonyClient,
    ),
    ...version3Addons.getOneTxPaymentClientEstimateAddons(
      // @ts-ignore
      oneTxPaymentClient,
      colonyClient,
    ),
    ...version4Addons.getOneTxPaymentClientEstimateAddons(
      // @ts-ignore
      oneTxPaymentClient,
      colonyClient,
    ),
    ...version5Addons.getOneTxPaymentClientEstimateAddons(
      // @ts-ignore
      oneTxPaymentClient,
      colonyClient,
    ),
    ...version6Addons.getOneTxPaymentClientEstimateAddons(
      // @ts-ignore
      oneTxPaymentClient,
      colonyClient,
    ),
    ...currentVersionAddons.getOneTxPaymentClientEstimateAddons(
      oneTxPaymentClient,
      colonyClient,
    ),
  };

  const encodedInterfaces = {
    ...version6EncodedInterfaces.getOneTxPaymentClientEncodeInterfaces(
      // @ts-ignore
      oneTxPaymentClient,
      colonyClient,
    ),
    ...version5EncodedInterfaces.getOneTxPaymentClientEncodeInterfaces(
      // @ts-ignore
      oneTxPaymentClient,
      colonyClient,
    ),
    ...version4EncodedInterfaces.getOneTxPaymentClientEncodeInterfaces(
      // @ts-ignore
      oneTxPaymentClient,
      colonyClient,
    ),
    ...version3EncodedInterfaces.getOneTxPaymentClientEncodeInterfaces(
      // @ts-ignore
      oneTxPaymentClient,
      colonyClient,
    ),
    ...currentVersionEncodedInterfaces.getOneTxPaymentClientEncodeInterfaces(
      oneTxPaymentClient,
      colonyClient,
    ),
  };

  Object.keys(addons).map((addonName) => {
    oneTxPaymentClient[addonName] = addons[addonName];
    return null;
  });

  Object.keys(addonsEstimate).map((addonName) => {
    oneTxPaymentClient.estimate[addonName] = addonsEstimate[addonName];
    return null;
  });

  Object.keys(encodedInterfaces).map((interfaceName) => {
    /*
     * @NOTE We're adding new interfaces to the functions list that the client
     * implicitly doesn't know about
     */
    // @ts-ignore
    oneTxPaymentClient.interface.functions[interfaceName] = {
      encode: encodedInterfaces[interfaceName],
    };
    return null;
  });

  return oneTxPaymentClient;
};

export default getOneTxPaymentClient;

/* eslint-enable */
