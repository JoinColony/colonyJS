# API

## Namespaces

- [Tokens](modules/Tokens.md)

## Enumerations

- [ClientType](enums/ClientType.md)
- [ColonyNetworkAddress](enums/ColonyNetworkAddress.md)
- [ColonyRole](enums/ColonyRole.md)
- [Core](enums/Core.md)
- [Extension](enums/Extension.md)
- [FundingPotAssociatedType](enums/FundingPotAssociatedType.md)
- [Id](enums/Id.md)
- [MotionState](enums/MotionState.md)
- [Network](enums/Network.md)
- [ReputationMinerEndpoints](enums/ReputationMinerEndpoints.md)
- [ReputationOracleEndpoint](enums/ReputationOracleEndpoint.md)
- [TokenClientType](enums/TokenClientType.md)

## Interfaces

- [CoinMachineClientV1](interfaces/CoinMachineClientV1.md)
- [CoinMachineClientV2](interfaces/CoinMachineClientV2.md)
- [CoinMachineClientV3](interfaces/CoinMachineClientV3.md)
- [CoinMachineClientV4](interfaces/CoinMachineClientV4.md)
- [CoinMachineClientV5](interfaces/CoinMachineClientV5.md)
- [CoinMachineClientV6](interfaces/CoinMachineClientV6.md)
- [ColonyClientV1](interfaces/ColonyClientV1.md)
- [ColonyClientV10](interfaces/ColonyClientV10.md)
- [ColonyClientV2](interfaces/ColonyClientV2.md)
- [ColonyClientV3](interfaces/ColonyClientV3.md)
- [ColonyClientV4](interfaces/ColonyClientV4.md)
- [ColonyClientV5](interfaces/ColonyClientV5.md)
- [ColonyClientV6](interfaces/ColonyClientV6.md)
- [ColonyClientV7](interfaces/ColonyClientV7.md)
- [ColonyClientV8](interfaces/ColonyClientV8.md)
- [ColonyClientV9](interfaces/ColonyClientV9.md)
- [ColonyNetworkClient](interfaces/ColonyNetworkClient.md)
- [ColonyTokenClient](interfaces/ColonyTokenClient.md)
- [DaiTokenClient](interfaces/DaiTokenClient.md)
- [Erc20TokenClient](interfaces/Erc20TokenClient.md)
- [Erc2612TokenClient](interfaces/Erc2612TokenClient.md)
- [EvaluatedExpenditureClientV1](interfaces/EvaluatedExpenditureClientV1.md)
- [EvaluatedExpenditureClientV2](interfaces/EvaluatedExpenditureClientV2.md)
- [IBasicMetaTransaction](interfaces/IBasicMetaTransaction.md)
- [NetworkClientOptions](interfaces/NetworkClientOptions.md)
- [OneTxPaymentClientV1](interfaces/OneTxPaymentClientV1.md)
- [OneTxPaymentClientV2](interfaces/OneTxPaymentClientV2.md)
- [OneTxPaymentClientV3](interfaces/OneTxPaymentClientV3.md)
- [StakedExpenditureClientV1](interfaces/StakedExpenditureClientV1.md)
- [StreamingPaymentsClientV1](interfaces/StreamingPaymentsClientV1.md)
- [TokenLockingClient](interfaces/TokenLockingClient.md)
- [TokenSupplierClientV1](interfaces/TokenSupplierClientV1.md)
- [TokenSupplierClientV2](interfaces/TokenSupplierClientV2.md)
- [TokenSupplierClientV3](interfaces/TokenSupplierClientV3.md)
- [VotingReputationClientV1](interfaces/VotingReputationClientV1.md)
- [VotingReputationClientV2](interfaces/VotingReputationClientV2.md)
- [VotingReputationClientV3](interfaces/VotingReputationClientV3.md)
- [VotingReputationClientV4](interfaces/VotingReputationClientV4.md)
- [VotingReputationClientV5](interfaces/VotingReputationClientV5.md)
- [VotingReputationClientV6](interfaces/VotingReputationClientV6.md)
- [VotingReputationClientV7](interfaces/VotingReputationClientV7.md)
- [WhitelistClientV1](interfaces/WhitelistClientV1.md)
- [WhitelistClientV2](interfaces/WhitelistClientV2.md)

## Type Aliases

### AnyCoinMachineClient

Ƭ **AnyCoinMachineClient**: [`CoinMachineClientV1`](interfaces/CoinMachineClientV1.md) \| [`CoinMachineClientV2`](interfaces/CoinMachineClientV2.md) \| [`CoinMachineClientV3`](interfaces/CoinMachineClientV3.md) \| [`CoinMachineClientV4`](interfaces/CoinMachineClientV4.md) \| [`CoinMachineClientV5`](interfaces/CoinMachineClientV5.md) \| [`CoinMachineClientV6`](interfaces/CoinMachineClientV6.md)

___

### AnyColonyClient

Ƭ **AnyColonyClient**: [`ColonyClientV1`](interfaces/ColonyClientV1.md) \| [`ColonyClientV2`](interfaces/ColonyClientV2.md) \| [`ColonyClientV3`](interfaces/ColonyClientV3.md) \| [`ColonyClientV4`](interfaces/ColonyClientV4.md) \| [`ColonyClientV5`](interfaces/ColonyClientV5.md) \| [`ColonyClientV6`](interfaces/ColonyClientV6.md) \| [`ColonyClientV7`](interfaces/ColonyClientV7.md) \| [`ColonyClientV8`](interfaces/ColonyClientV8.md) \| [`ColonyClientV9`](interfaces/ColonyClientV9.md) \| [`ColonyClientV10`](interfaces/ColonyClientV10.md)

___

### AnyEvaluatedExpenditureClient

Ƭ **AnyEvaluatedExpenditureClient**: [`EvaluatedExpenditureClientV1`](interfaces/EvaluatedExpenditureClientV1.md) \| [`EvaluatedExpenditureClientV2`](interfaces/EvaluatedExpenditureClientV2.md)

___

### AnyOneTxPaymentClient

Ƭ **AnyOneTxPaymentClient**: [`OneTxPaymentClientV1`](interfaces/OneTxPaymentClientV1.md) \| [`OneTxPaymentClientV2`](interfaces/OneTxPaymentClientV2.md) \| [`OneTxPaymentClientV3`](interfaces/OneTxPaymentClientV3.md)

___

### AnyStakedExpenditureClient

Ƭ **AnyStakedExpenditureClient**: [`StakedExpenditureClientV1`](interfaces/StakedExpenditureClientV1.md)

___

### AnyStreamingPaymentsClient

Ƭ **AnyStreamingPaymentsClient**: [`StreamingPaymentsClientV1`](interfaces/StreamingPaymentsClientV1.md)

___

### AnyTokenSupplierClient

Ƭ **AnyTokenSupplierClient**: [`TokenSupplierClientV1`](interfaces/TokenSupplierClientV1.md) \| [`TokenSupplierClientV2`](interfaces/TokenSupplierClientV2.md) \| [`TokenSupplierClientV3`](interfaces/TokenSupplierClientV3.md)

___

### AnyVotingReputationClient

Ƭ **AnyVotingReputationClient**: [`VotingReputationClientV1`](interfaces/VotingReputationClientV1.md) \| [`VotingReputationClientV2`](interfaces/VotingReputationClientV2.md) \| [`VotingReputationClientV3`](interfaces/VotingReputationClientV3.md) \| [`VotingReputationClientV4`](interfaces/VotingReputationClientV4.md) \| [`VotingReputationClientV5`](interfaces/VotingReputationClientV5.md) \| [`VotingReputationClientV6`](interfaces/VotingReputationClientV6.md) \| [`VotingReputationClientV7`](interfaces/VotingReputationClientV7.md)

___

### AnyWhitelistClient

Ƭ **AnyWhitelistClient**: [`WhitelistClientV1`](interfaces/WhitelistClientV1.md) \| [`WhitelistClientV2`](interfaces/WhitelistClientV2.md)

___

### ColonyRoles

Ƭ **ColonyRoles**: [`UserRoles`](README.md#userroles)[]

All users that have roles in a colony

___

### ContractClient

Ƭ **ContractClient**: [`AnyColonyClient`](README.md#anycolonyclient) \| [`ColonyNetworkClient`](interfaces/ColonyNetworkClient.md) \| [`EventsClient`](README.md#eventsclient) \| [`ExtensionClient`](README.md#extensionclient) \| [`TokenClient`](README.md#tokenclient) \| [`TokenLockingClient`](interfaces/TokenLockingClient.md)

___

### DomainRoles

Ƭ **DomainRoles**: `Object`

All roles a user has in `domainId`

#### Type declaration

| Name | Type |
| :------ | :------ |
| `domainId` | `number` |
| `roles` | [`ColonyRole`](enums/ColonyRole.md)[] |

___

### EventsClient

Ƭ **EventsClient**: `CoinMachineEvents` \| `EvaluatedExpenditureEvents` \| `IColonyEvents` \| `IColonyNetworkEvents` \| `IVotingReputationEvents` \| `MetaTxTokenEvents` \| `OneTxPaymentEvents` \| `StakedExpenditureEvents` \| `StreamingPaymentsEvents` \| `TokenSupplierEvents` \| `VotingReputationEvents` \| `WhitelistEvents`

___

### ExtensionClient

Ƭ **ExtensionClient**: [`AnyCoinMachineClient`](README.md#anycoinmachineclient) \| [`AnyEvaluatedExpenditureClient`](README.md#anyevaluatedexpenditureclient) \| [`AnyOneTxPaymentClient`](README.md#anyonetxpaymentclient) \| [`AnyStakedExpenditureClient`](README.md#anystakedexpenditureclient) \| [`AnyStreamingPaymentsClient`](README.md#anystreamingpaymentsclient) \| [`AnyTokenSupplierClient`](README.md#anytokensupplierclient) \| [`AnyVotingReputationClient`](README.md#anyvotingreputationclient) \| [`AnyWhitelistClient`](README.md#anywhitelistclient)

___

### SignerOrProvider

Ƭ **SignerOrProvider**: `Signer` \| `Provider`

___

### TokenClient

Ƭ **TokenClient**: [`ColonyTokenClient`](interfaces/ColonyTokenClient.md) \| `LegacyColonyTokenClient` \| [`Erc20TokenClient`](interfaces/Erc20TokenClient.md) \| [`Erc2612TokenClient`](interfaces/Erc2612TokenClient.md) \| [`DaiTokenClient`](interfaces/DaiTokenClient.md)

___

### UserRoles

Ƭ **UserRoles**: `Object`

All domains the user with `address` has roles in

#### Type declaration

| Name | Type |
| :------ | :------ |
| `address` | `string` |
| `domains` | [`DomainRoles`](README.md#domainroles)[] |

## Variables

### COLONY\_VERSION\_LATEST

• `Const` **COLONY\_VERSION\_LATEST**: `number`

___

### ExtensionVersions

• `Const` **ExtensionVersions**: `Object`

#### Type declaration

| Name | Type |
| :------ | :------ |
| `CoinMachine` | `number` |
| `EvaluatedExpenditure` | `number` |
| `IVotingReputation` | `number` |
| `OneTxPayment` | `number` |
| `StakedExpenditure` | `number` |
| `StreamingPayments` | `number` |
| `TokenSupplier` | `number` |
| `VotingReputation` | `number` |
| `Whitelist` | `number` |

## Functions

### formatColonyRoles

▸ **formatColonyRoles**(`roleSetEvents`, `recoveryRoleSetEvents`): `Promise`<[`ColonyRoles`](README.md#colonyroles)\>

Format role events into an Array of all roles in the colony

E.g.:
```typescript
[{
 address: 0x5346D0f80e2816FaD329F2c140c870ffc3c3E2Ef // user address
 domains: [{                                         // all domains the user has a role in
   domainId: 1,                                      // domainId for the roles
   roles: [1, 2, 3]                                  // Array of `ColonyRole`
 }]
}]
```

#### Parameters

| Name | Type |
| :------ | :------ |
| `roleSetEvents` | `LogDescription`[] |
| `recoveryRoleSetEvents` | `LogDescription`[] |

#### Returns

`Promise`<[`ColonyRoles`](README.md#colonyroles)\>

___

### getBlockTime

▸ **getBlockTime**(`provider`, `blockHash`): `Promise`<`number`\>

Get the JavaScript timestamp for a block

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `provider` | `Provider` | ethers compatible Provider |
| `blockHash` | `string` | Hash of block to get time for |

#### Returns

`Promise`<`number`\>

block timestamp in ms

___

### getChildIndex

▸ **getChildIndex**(`client`, `parentDomainId`, `domainId`): `Promise`<`BigNumber`\>

Get the child index for a domain inside its corresponding skills parent children array

E.g. (the values *will* differ for you!):
domainId = 1
corresponding skillId = 2
parent of skillId 2:
```
{
 // ...
 children: [2]
}
```
childSkillIndex would be 0 in this case (0-position in children array)

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `client` | [`AnyColonyClient`](README.md#anycolonyclient) | Any ColonyClient |
| `parentDomainId` | `BigNumberish` | id of parent domain |
| `domainId` | `BigNumberish` | id of the domain |

#### Returns

`Promise`<`BigNumber`\>

Index in the `children` array (see above)

___

### getColonyNetworkClient

▸ **getColonyNetworkClient**(`network`, `signerOrProvider`, `options?`): [`ColonyNetworkClient`](interfaces/ColonyNetworkClient.md)

The main entry point for accessing the deployed colonyNetwork contracts

Specify a network and an ethers compatible singer or provider to get back an
initialized and extended (ethers) contract client for the colonyNetwork. From
here you can access different colonies, extensions, ENS and other features of Colony.

Example
```ts
import { getColonyNetworkClient, Network } = from '@colony/colony-js';
import { providers } from 'ethers';

// For local connections (run an Ethereum node on port 8545);
const provider = new providers.JsonRpcProvider();

// Just for reading data - to sign transactions we need to pass in a signer.
const networkClient = await getColonyNetworkClient(Network.Xdai, provider);
```

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `network` | [`Network`](enums/Network.md) | One of the available options. See [Network](enums/Network.md). |
| `signerOrProvider` | [`SignerOrProvider`](README.md#signerorprovider) | An [ethers](https://github.com/ethers-io/ethers.js/) compatible signer or provider instance |
| `options?` | [`NetworkClientOptions`](interfaces/NetworkClientOptions.md) | Here you can supply options for accessing certain contracts (mostly used in local/dev environments) |

#### Returns

[`ColonyNetworkClient`](interfaces/ColonyNetworkClient.md)

___

### getColonyRoles

▸ **getColonyRoles**(`client`, `options?`): `Promise`<[`ColonyRoles`](README.md#colonyroles)\>

Get an array of all roles in the colony

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `client` | [`AnyColonyClient`](README.md#anycolonyclient) | Any ColonyClient |
| `options?` | `LogOptions` | - |

#### Returns

`Promise`<[`ColonyRoles`](README.md#colonyroles)\>

Array of user roles in a colony (see above) fetching it's own network events

___

### getCreateMotionProofs

▸ **getCreateMotionProofs**(`client`, `domainId`, `altTarget`, `action`): `Promise`<{ `actionCid`: `BigNumber` ; `branchMask`: `string` ; `key`: `string` ; `siblings`: `string`[] ; `value`: `string`  }\>

Gets the necessary proofs for motion creation

This gets the reputation and domain proofs for motion creation

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `client` | [`AnyVotingReputationClient`](README.md#anyvotingreputationclient) | Any VotingReputationClient |
| `domainId` | `BigNumberish` | Domain id the motion will be created in |
| `altTarget` | `string` | Target address for the motion (0x0 if Colony contract) |
| `action` | `BytesLike` | The encoded action the motion will execute when finalized |

#### Returns

`Promise`<{ `actionCid`: `BigNumber` ; `branchMask`: `string` ; `key`: `string` ; `siblings`: `string`[] ; `value`: `string`  }\>

The necessary reputation and domain proofs to create a motion

___

### getEvents

▸ **getEvents**(`client`, `filter`, `options?`): `Promise`<`LogDescription`[]\>

Get parsed event data from filter

Example:
```typescript
// Gets the logs for the `ColonyFundsClaimed` event (not filtered)
const filter = colonyClient.filters.ColonyFundsClaimed(null, null, null);
const events = await getEvents(colonyClient, filter);
```

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `client` | [`ContractClient`](README.md#contractclient) | Any of the intantiated contract clients |
| `filter` | `Filter` | ethers compatible Filter object |
| `options?` | `LogOptions` | Configuration options to filter logs |

#### Returns

`Promise`<`LogDescription`[]\>

Parsed ethers LogDescription array (events)

___

### getExtensionHash

▸ **getExtensionHash**(`extensionName`): `string`

Hashes to identify the colony extension contracts

#### Parameters

| Name | Type |
| :------ | :------ |
| `extensionName` | `string` |

#### Returns

`string`

___

### getHistoricColonyRoles

▸ **getHistoricColonyRoles**(`client`, `fromBlock?`, `toBlock?`): `Promise`<[`ColonyRoles`](README.md#colonyroles)\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `client` | [`AnyColonyClient`](README.md#anycolonyclient) |
| `fromBlock?` | `number` |
| `toBlock?` | `number` |

#### Returns

`Promise`<[`ColonyRoles`](README.md#colonyroles)\>

___

### getLogs

▸ **getLogs**(`client`, `filter`, `options?`): `Promise`<`Log`[]\>

Get raw (unparsed logs) from filter

Example:
```typescript
// Gets the logs for the `ColonyFundsClaimed` event (not filtered)
const filter = colonyClient.filters.ColonyFundsClaimed(null, null, null);
const logs = await getLogs(colonyClient, filter);
```

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `client` | [`ContractClient`](README.md#contractclient) | Any of the intantiated contract clients |
| `filter` | `Filter` | ethers compatible Filter object |
| `options` | `LogOptions` | Configuration options to filter logs |

#### Returns

`Promise`<`Log`[]\>

ethers Log array

___

### getMultipleEvents

▸ **getMultipleEvents**(`client`, `filters`, `options?`): `Promise`<`LogDescription`[]\>

Get multiple events from multiple filters

**`Remarks`**

only works when all events are emitted by the same contract!

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `client` | [`ContractClient`](README.md#contractclient) | Any of the intantiated contract clients |
| `filters` | `EventFilter`[] | Array of ethers compatible Filter objects |
| `options?` | `LogOptions` | Configuration options to filter logs |

#### Returns

`Promise`<`LogDescription`[]\>

Parsed ethers LogDescription array (events)

___

### getPermissionProofs

▸ **getPermissionProofs**(`client`, `domainId`, `roles`, `customAddress?`): `Promise`<[`BigNumber`, `BigNumber`, `string`]\>

Get the permission proofs for a user address and a certain role

Certain methods on Colony contracts require so called "permission proofs". These are made up by
the `permissionDomainId` and the `childSkillIndex`. We shall attempt an explanation here.

Domains within a colony can be nested and all the permissions in a parent domain apply for all child domains.
Yet at the time of calling a domain-permissioned method the contracts are unaware of the parent domain
a certain user has the required permission in. So when we these methods are called we have to supply them
the id of the parent domain the user has the permission in (it could also be the very same domain id they
want to act in!). Furthermore for the contracts the unidirectional chain downwards we have to supply
the method wuth the index of the domains associated skill in its parents children array
(`childSkillIndex`, see [[`getChildIndex`]]).
The contracts are then able to verify the permissions (the role) claimed by the caller.

tl;dr:

* `permissionDomainId`: id of the parent domain of the required domain the user has the required permission in
* `childSkillIndex`: the child index for a domain inside its corresponding skills parent children array

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `client` | [`AnyColonyClient`](README.md#anycolonyclient) | Any ColonyClient |
| `domainId` | `BigNumberish` | Domain id the method needs to act in |
| `roles` | [`ColonyRole`](enums/ColonyRole.md) \| [`ColonyRole`](enums/ColonyRole.md)[] | Permissioning role(s) that the methods needs to function |
| `customAddress?` | `string` | A custom address to get the permission proofs for (defaults to the signer's address) |

#### Returns

`Promise`<[`BigNumber`, `BigNumber`, `string`]\>

Tuple of `[permissionDomainId, childSkillIndex, permissionAddress]`

___

### getPotDomain

▸ **getPotDomain**(`client`, `potId`): `Promise`<`BigNumberish`\>

Get the associated domain for a pot id

**`Remarks`**

pots can be associated with different types, like domains, payments or tasks
See [[`FundingPotAssociatedType`]] for details

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `client` | [`AnyColonyClient`](README.md#anycolonyclient) | Any ColonyClient |
| `potId` | `BigNumberish` | The funding pot id |

#### Returns

`Promise`<`BigNumberish`\>

The associated domainId

___

### getTokenClient

▸ **getTokenClient**(`address`, `signerOrProvider`): `Promise`<[`TokenClient`](README.md#tokenclient)\>

#### Parameters

| Name | Type |
| :------ | :------ |
| `address` | `string` |
| `signerOrProvider` | [`SignerOrProvider`](README.md#signerorprovider) |

#### Returns

`Promise`<[`TokenClient`](README.md#tokenclient)\>

___

### isExtensionCompatible

▸ **isExtensionCompatible**(`extension`, `extensionVersion`, `colonyVersion`): `boolean`

Checks the compatibility of an extension version with a colony version it requests to be installed in
Returns `true` if an extension version is compatible with the given colony version

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `extension` | [`Extension`](enums/Extension.md) | A valid `Extension` contract name |
| `extensionVersion` | `ExtensionVersion` | The version of the extension to check against the colony |
| `colonyVersion` | ``2`` \| ``1`` \| ``3`` \| ``4`` \| ``5`` \| ``6`` \| ``7`` \| ``8`` \| ``9`` \| ``10`` | The version of the colony to check for |

#### Returns

`boolean`

indication whether extension in given version is compatible with colony at the given version
